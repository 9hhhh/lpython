macro(ADDTEST name)
    add_executable(${name} ${name}.f90)
    add_test(${name} ${CURRENT_BINARY_DIR}/${name})
endmacro(ADDTEST)

macro(ADDPROG name)
    add_executable(${name} ${name}.f90)
endmacro(ADDPROG)

ADDTEST(test_program_cmake_01)
ADDTEST(test_expr_01)
ADDTEST(test_abort)
set_tests_properties(test_abort PROPERTIES WILL_FAIL TRUE)
ADDTEST(if_01)
ADDTEST(if_02)
set_tests_properties(if_02 PROPERTIES WILL_FAIL TRUE)
ADDTEST(cond_01)
