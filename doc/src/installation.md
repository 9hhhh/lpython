# Installation

All the instructions below work on Linux, macOS and Windows.

## Binaries

The recommended way to install LFortran is using Conda.
Install Conda for example by installing the
[Miniconda](https://conda.io/en/latest/miniconda.html) installation.
Then create a new environment (you can choose any name, here we chose `lf`) and
activate it:
```bash
conda create -n lf
conda activate lf
```
Then install LFortran by:
```bash
conda install lfortran -c conda-forge
```
Now the `lf` environment has the `lfort` compiler available, you can start the
interactive prompt by executing `lfort`, or see the command line options using
`lfort -h`.

To install the Jupyter kernel, do:
```bash
conda install jupyter fortran_kernel -c conda-forge
```
Now you can create a Fortran based Jupyter notebook by executing:
```bash
jupyter notebook
```
and selecting `New->Fortran`.


## From a Tarball Using Pip

One can install from source by `pip` installing LFortran. An example:
```bash
conda create -n lf python=3.7
conda activate lf
pip install lfortran
```
Pip will automatically download all build and run time dependencies, compile
and install LFortran. The only prerequisite that you have to have is a working
C compiler.

Now the `lf` environment has the `lfort` compiler available, you can
start the interactive prompt by executing `lfort`, or see the command line
options using `lfort -h`.

Optional: run tests:
```bash
pytest --pyargs lfortran
```

You can also install any tarball from
[https://lfortran.org/download/](https://lfortran.org/download/) directly,
e.g.:
```bash
pip install https://lfortran.github.io/tarballs/release/lfortran-0.1.14.tar.gz
```
or equivalently by:
```bash
wget https://lfortran.github.io/tarballs/release/lfortran-0.1.14.tar.gz
tar xzf lfortran-0.1.14.tar.gz
cd lfortran-0.1.14
pip install .
```


## From Git

Prepare the environment:
```bash
conda create -n lf python=3.7 pytest llvmlite prompt_toolkit antlr-python-runtime scikit-build antlr cmake make -c conda-forge
conda activate lf
```
Clone the LFortran git repository:
```
git clone https://gitlab.com/lfortran/lfortran
cd lfortran
```
Build:
```bash
./build.sh
```
Run tests:
```bash
pytest
```
Run an interactive prompt:
```bash
./lfort
```

## Note About Dependencies

End users (and distributions) are encouraged to use the tarball
from [https://lfortran.org/download/](https://lfortran.org/download/),
which only depends on Python and a few Python packages (`llvmlite`, `pytest`,
`prompt_toolkit` and `antlr4-python3-runtime`). The LFortran standard library
needs to be compiled and it needs a C compiler. Down the road (see our
[roadmap](index.md)), LFortran will be gradually rewritten in C++, so it will
also depend on a C++ compiler.

The tarball is generated automatically by our CI (continuous integration) and
contains some autogenerated files: the parser, which is generated by ANTLR4
(requires Java) and the AST and ASR nodes, which is generated by an ASDL
translator (requires Python). The Java requirement is only needed when using
git directly, the tarball does not depend on Java in any way.

The same tarball is accessible from our Downloads page as well as from PyPI.
